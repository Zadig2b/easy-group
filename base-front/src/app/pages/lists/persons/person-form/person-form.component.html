<div class=" mt-5 p-3 primary-very-light rounded">
<div class="btn-primary-custom" (click)="toggleForm()">➕ Ajouter une personne</div>

<form *ngIf="showForm && personForm && listId"
[formGroup]="personForm" (ngSubmit)="submit()" class="row g-3">
    <div class="col-md-6">
      <label class="form-label">Nom</label>
      <input formControlName="name" class="form-control" type="text" />
    </div>

    <div class="col-md-3">
      <label class="form-label">Genre</label>
      <select formControlName="gender" class="form-select">
        <option value="MALE">Homme</option>
        <option value="FEMALE">Femme</option>
        <option value="UNDISCLOSED">Non spécifié</option>
      </select>
    </div>

    <div class="col-md-3">
      <label class="form-label">Âge</label>
      <input formControlName="age" type="number" class="form-control" />
    </div>

    <div class="col-md-4">
      <label class="form-label">Français (1–4)</label>
      <input formControlName="frenchLevel" type="number" class="form-control" />
    </div>

    <div class="col-md-4">
      <label class="form-label">Niveau tech (1–4)</label>
      <input formControlName="techLevel" type="number" class="form-control" />
    </div>

    <div class="col-md-4">
      <label class="form-label">Profil</label>
      <select formControlName="profile" class="form-select">
        <option value="TIMIDE">Timide</option>
        <option value="RESERVE">Réservé</option>
        <option value="A_LAISE">À l’aise</option>
      </select>
    </div>

    <div class="col-md-4">
      <label class="form-check-label d-block">Ancien DWWM</label>
      <input formControlName="oldDwwm" type="checkbox" class="form-check-input" />
    </div>

    <div class="col-12 mt-3">
      <button type="submit" class="btn btn-primary" [disabled]="personForm.invalid">Ajouter</button>
    </div>
  </form>

  <div *ngIf="message" class="alert alert-success mt-3">{{ message }}</div>
</div>
