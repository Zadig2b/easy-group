<div class="container mt-5">

  <div *ngIf="loading" class="text-center my-5">
    <div class="spinner-border text-primary" role="status"></div>
  </div>

  <div *ngIf="!loading && !error">
    <h2 class="mb-4">
      👥 Liste : <span class="text-primary">{{ listName }}</span>
    </h2>
    <p><strong>{{ personCount }}</strong> personne(s) dans cette liste</p>

    <app-person-list
      [listId]="listId"
      [refreshToken]="refreshToken"
    ></app-person-list>

    <hr class="my-4" />

    <app-person-form
      [listId]="listId"
      (personAdded)="refreshList()"
    ></app-person-form>
  </div>

  <div *ngIf="error && !loading" class="alert alert-danger">
    ❌ Impossible de charger la liste. Vérifiez vos droits ou réessayez plus tard.
  </div>
</div>
<!-- 
<app-submit-draw
  [listId]="listId"
  [groups]="generatedGroupsFromFrontend"
></app-submit-draw>

<app-draw-history [listId]="listId"></app-draw-history> -->
